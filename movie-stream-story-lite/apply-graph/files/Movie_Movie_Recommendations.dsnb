[{"name":"Movie/Movie_Recommendations","description":null,"tags":null,"version":"5","layout":"zeppelin","type":"Default","readOnly":false,"snapshot":false,"template":"dsrgmn3y","templateConfig":"{\"visualization\":{\"filters\":[{\"_id\":1583324064459,\"type\":\"styling\",\"enabled\":true,\"conditions\":{\"operator\":\"and\",\"conditions\":[{\"property\":\"hiddenConnection\",\"operator\":\"*\",\"value\":\"\"}]},\"component\":\"edge\",\"target\":\"edge\",\"properties\":{\"colors\":[\"rgba(0, 0, 0, 0.1)\"],\"style\":[\"dashed\"],\"legendTitle\":[\"Hidden Connection\"]}},{\"_id\":1590499315755,\"type\":\"aggregation\",\"enabled\":true,\"conditions\":{\"operator\":\"and\",\"conditions\":[]},\"component\":\"vertex\",\"target\":\"vertex\",\"properties\":{},\"aggregation\":[{\"source\":\"\",\"type\":\"average\"}]}],\"version\":4}}","paragraphs":[{"row":0,"col":0,"sizeX":0,"sizeY":201,"order":0,"width":0,"title":"Introduction","hasTitle":true,"message":"%md\n\nIn this notebook you can run graph queries and graph analytics algorithms.   This notebook has three intrepreters.  <br>\n<b> %md: </b> Markdown. <br>\n<b> %pgql-pgx: </b> Run PGQL queries.  PGQL is the Property Graph Query Language, a SQL-like query language that includes the ability to specify graph patterns in the query. <br>\n<b> %java-pgx: </b> Run over 60 pre-built graph analytics algorithms using Java APIs.","selectedVisualization":"html","visualizationConfig":null,"hideCode":true,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635264313298,"endTime":1635264313323,"interpreter":"md","taskStatus":"SUCCESS","status":"SUCCESS","results":[{"message":"<p>In this notebook you can run graph queries and graph analytics algorithms.   This notebook has three intrepreters.  <br>\n<b> %md: </b> Markdown. <br>\n<b> %pgql-pgx: </b> Run PGQL queries.  PGQL is the Property Graph Query Language, a SQL-like query language that includes the ability to specify graph patterns in the query. <br>\n<b> %java-pgx: </b> Run over 60 pre-built graph analytics algorithms using Java APIs.</p>\n","type":"HTML"}]},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":283,"order":1,"width":0,"title":"Running Queries","hasTitle":true,"message":"%md\nWe first use the <b> %pgql-pgx </b> interpreter to run a PGQL query. <br>\n\nLet us consider the customer <b> Ricky Rogers</b>. The OML lab has identified him as one among several potential customers who might leave the service (churn).\nWe first run a simple PGQL query that selects some of the movies (limit to 10) that <b> Ricky Rogers</b> has rented. <br> <br>\n\nClick on the first icon on the top left of the paragraph, in the shape of a triangle.  This is the button to execute the paragraph. <br>\n\nThe results are returned in the form of a graph. <br>\n\nThe visualization settings are set to display the name of the movie vertex, and the label of the edge.   This can be changed with the settings icon, as explained in the optional Task 4 of this lab.","selectedVisualization":"html","visualizationConfig":null,"hideCode":true,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635264319699,"endTime":1635264320038,"interpreter":"md","taskStatus":"SUCCESS","status":"SUCCESS","results":[{"message":"<p>We first use the <b> %pgql-pgx </b> interpreter to run a PGQL query. <br></p>\n<p>Let us consider the customer <b> Ricky Rogers</b>. The OML lab has identified him as one among several potential customers who might leave the service (churn).\nWe first run a simple PGQL query that selects some of the movies (limit to 10) that <b> Ricky Rogers</b> has rented. <br> <br></p>\n<p>Click on the first icon on the top left of the paragraph, in the shape of a triangle.  This is the button to execute the paragraph. <br></p>\n<p>The results are returned in the form of a graph. <br></p>\n<p>The visualization settings are set to display the name of the movie vertex, and the label of the edge.   This can be changed with the settings icon, as explained in the optional Task 4 of this lab.</p>\n","type":"HTML"}]},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":139,"order":2,"width":0,"title":null,"hasTitle":false,"message":"%pgql-pgx\nselect c, e, m \nfrom match (c)-[e]->(m) \non MOVIE_RECOMMENDATIONS\nwhere c.FIRST_NAME = 'Ricky' and c.LAST_NAME = 'Rogers'\nlimit 10","selectedVisualization":"visualization","visualizationConfig":"[{\"visualization\":{\"vertexLabelProperty\":\"TITLE\",\"vertexPositions\":[{\"id\":\"8053533742293878224\",\"x\":0.5292361518057302,\"y\":0.7996302390950054}],\"layout\":\"random\",\"liveSearch\":{\"enabled\":true},\"graphAction\":{\"graphName\":\"MOVIE_RECOMMENDATIONS\",\"lastRun\":1635259886672,\"metadata\":{\"vertexProperties\":[{\"name\":\"id\",\"type\":\"integer\"},{\"name\":\"POSTAL_CODE\",\"type\":\"string\"},{\"name\":\"YRS_CURRENT_EMPLOYER\",\"type\":\"double\"},{\"name\":\"LAST_NAME\",\"type\":\"string\"},{\"name\":\"STATE_PROVINCE\",\"type\":\"string\"},{\"name\":\"CUST_ID\",\"type\":\"double\"},{\"name\":\"HOUSEHOLD_SIZE\",\"type\":\"double\"},{\"name\":\"CITY\",\"type\":\"string\"},{\"name\":\"JOB_TYPE\",\"type\":\"string\"},{\"name\":\"COUNTRY\",\"type\":\"string\"},{\"name\":\"GENDER\",\"type\":\"string\"},{\"name\":\"CREW\",\"type\":\"string\"},{\"name\":\"SUMMARY\",\"type\":\"string\"},{\"name\":\"MARITAL_STATUS\",\"type\":\"string\"},{\"name\":\"CREDIT_BALANCE\",\"type\":\"double\"},{\"name\":\"YRS_RESIDENCE\",\"type\":\"double\"},{\"name\":\"YEAR\",\"type\":\"double\"},{\"name\":\"INCOME_LEVEL\",\"type\":\"string\"},{\"name\":\"BUDGET\",\"type\":\"double\"},{\"name\":\"INCOME\",\"type\":\"double\"},{\"name\":\"MOVIE_ID\",\"type\":\"double\"},{\"name\":\"CAST\",\"type\":\"string\"},{\"name\":\"CONTINENT\",\"type\":\"string\"},{\"name\":\"VIEWS\",\"type\":\"double\"},{\"name\":\"LIST_PRICE\",\"type\":\"double\"},{\"name\":\"STUDIO\",\"type\":\"string\"},{\"name\":\"MAIN_SUBJECT\",\"type\":\"string\"},{\"name\":\"LOC_LONG\",\"type\":\"double\"},{\"name\":\"WORK_EXPERIENCE\",\"type\":\"double\"},{\"name\":\"AGE\",\"type\":\"double\"},{\"name\":\"FIRST_NAME\",\"type\":\"string\"},{\"name\":\"EDUCATION\",\"type\":\"string\"},{\"name\":\"FULL_TIME\",\"type\":\"string\"},{\"name\":\"GENRES\",\"type\":\"string\"},{\"name\":\"COMMUTE_DISTANCE\",\"type\":\"double\"},{\"name\":\"NUM_MORTGAGES\",\"type\":\"double\"},{\"name\":\"PET\",\"type\":\"string\"},{\"name\":\"SKU\",\"type\":\"string\"},{\"name\":\"INSUFF_FUNDS_INCIDENTS\",\"type\":\"double\"},{\"name\":\"TITLE\",\"type\":\"string\"},{\"name\":\"GROSS\",\"type\":\"double\"},{\"name\":\"OPENING_DATE\",\"type\":\"timestamp_with_timezone\"},{\"name\":\"PROMOTION_RESPONSE\",\"type\":\"double\"},{\"name\":\"YRS_CUSTOMER\",\"type\":\"double\"},{\"name\":\"MORTGAGE_AMT\",\"type\":\"double\"},{\"name\":\"COUNTRY_CODE\",\"type\":\"string\"},{\"name\":\"AWARDS\",\"type\":\"string\"},{\"name\":\"LATE_MORT_RENT_PMTS\",\"type\":\"double\"},{\"name\":\"SEGMENT_ID\",\"type\":\"double\"},{\"name\":\"LOC_LAT\",\"type\":\"double\"},{\"name\":\"EMAIL\",\"type\":\"string\"},{\"name\":\"RUNTIME\",\"type\":\"double\"},{\"name\":\"RENT_OWN\",\"type\":\"string\"},{\"name\":\"NOMINATIONS\",\"type\":\"string\"},{\"name\":\"NUM_CARS\",\"type\":\"double\"},{\"name\":\"STREET_ADDRESS\",\"type\":\"string\"}],\"edgeProperties\":[{\"name\":\"id\",\"type\":\"integer\"},{\"name\":\"DAY_ID\",\"type\":\"timestamp_with_timezone\"},{\"name\":\"DISCOUNT_TYPE\",\"type\":\"string\"},{\"name\":\"CUST_ID\",\"type\":\"double\"},{\"name\":\"OS\",\"type\":\"string\"},{\"name\":\"MOVIE_ID\",\"type\":\"double\"},{\"name\":\"DEVICE\",\"type\":\"string\"},{\"name\":\"GENRE_ID\",\"type\":\"double\"},{\"name\":\"PAYMENT_METHOD\",\"type\":\"string\"},{\"name\":\"APP\",\"type\":\"string\"}]}},\"viewTransform\":[[-158.62403565518719,9.400829279163005,1.0999967252867737,1449]],\"lastColumns\":[\"C\",\"E\",\"M\"],\"version\":8},\"raw\":{},\"table\":{}}]","hideCode":false,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635259410395,"endTime":1635259411772,"interpreter":"pgql-pgx","taskStatus":null,"status":null,"results":null},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":194,"order":3,"width":0,"title":null,"hasTitle":false,"message":"%md\n\nIn this PGQL query we will explore what movies <b> Ricky Rogers </b> and another customer <b> Blanca Diaz </b>  have rented in common.  Blanca Diaz is a customer who has watched a lot of movies.   The query limits the result set to 100 edges, where each edge represents a movie both customers have rented.  <br> <br>\n\nIn the result graph we again display the names of the movie vertices and the edge labels by selecting them as visualization settings.  <br> <br> ","selectedVisualization":"html","visualizationConfig":null,"hideCode":true,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635264328037,"endTime":1635264328062,"interpreter":"md","taskStatus":"SUCCESS","status":"SUCCESS","results":[{"message":"<p>In this PGQL query we will explore what movies <b> Ricky Rogers </b> and another customer <b> Blanca Diaz </b>  have rented in common.  Blanca Diaz is a customer who has watched a lot of movies.   The query limits the result set to 100 edges, where each edge represents a movie both customers have rented.  <br> <br></p>\n<p>In the result graph we again display the names of the movie vertices and the edge labels by selecting them as visualization settings.  <br> <br></p>\n","type":"HTML"}]},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":155,"order":4,"width":0,"title":null,"hasTitle":false,"message":"%pgql-pgx\nselect c1, e1, m.title, e2, c2\nfrom match (c1)-[e1]->(m)<-[e2]-(c2) \non MOVIE_RECOMMENDATIONS\nwhere c1.FIRST_NAME = 'Ricky' and c1.LAST_NAME = 'Rogers' and\nc2.FIRST_NAME = 'Blanca' and c2.LAST_NAME = 'Diaz'\nlimit 20","selectedVisualization":"visualization","visualizationConfig":"[{\"visualization\":{\"vertexLabelProperty\":\"FIRST_NAME\",\"vertexPositions\":[{\"id\":\"4571260627418276434\",\"x\":0.5334398219572548,\"y\":-0.5818914939633081},{\"id\":\"8149030822970365973\",\"x\":0.5178499997465034,\"y\":-0.184561817891219},{\"id\":\"8053533742293878224\",\"x\":0.538246129670248,\"y\":0.4207890520120736},{\"id\":\"2028693991975406381\",\"x\":0.316116011819124,\"y\":0.4802743709660732},{\"id\":\"9044374371947546043\",\"x\":0.40620132387302704,\"y\":0.36037286844501987},{\"id\":\"5577940820657257853\",\"x\":0.431716816882514,\"y\":0.4606541250989918},{\"id\":\"4574703750108389585\",\"x\":0.43536188731244074,\"y\":0.5620253954122459},{\"id\":\"3541232867664982704\",\"x\":0.438486233395235,\"y\":0.6917370208668401},{\"id\":\"5552149084756813259\",\"x\":0.4166158108156748,\"y\":0.8367088375513864}],\"graphAction\":{\"graphName\":\"MOVIE_RECOMMENDATIONS\",\"lastRun\":1635260041951,\"metadata\":{\"vertexProperties\":[{\"name\":\"id\",\"type\":\"integer\"},{\"name\":\"POSTAL_CODE\",\"type\":\"string\"},{\"name\":\"YRS_CURRENT_EMPLOYER\",\"type\":\"double\"},{\"name\":\"LAST_NAME\",\"type\":\"string\"},{\"name\":\"STATE_PROVINCE\",\"type\":\"string\"},{\"name\":\"CUST_ID\",\"type\":\"double\"},{\"name\":\"HOUSEHOLD_SIZE\",\"type\":\"double\"},{\"name\":\"CITY\",\"type\":\"string\"},{\"name\":\"JOB_TYPE\",\"type\":\"string\"},{\"name\":\"COUNTRY\",\"type\":\"string\"},{\"name\":\"GENDER\",\"type\":\"string\"},{\"name\":\"CREW\",\"type\":\"string\"},{\"name\":\"SUMMARY\",\"type\":\"string\"},{\"name\":\"MARITAL_STATUS\",\"type\":\"string\"},{\"name\":\"CREDIT_BALANCE\",\"type\":\"double\"},{\"name\":\"YRS_RESIDENCE\",\"type\":\"double\"},{\"name\":\"YEAR\",\"type\":\"double\"},{\"name\":\"INCOME_LEVEL\",\"type\":\"string\"},{\"name\":\"BUDGET\",\"type\":\"double\"},{\"name\":\"INCOME\",\"type\":\"double\"},{\"name\":\"MOVIE_ID\",\"type\":\"double\"},{\"name\":\"CAST\",\"type\":\"string\"},{\"name\":\"CONTINENT\",\"type\":\"string\"},{\"name\":\"VIEWS\",\"type\":\"double\"},{\"name\":\"LIST_PRICE\",\"type\":\"double\"},{\"name\":\"STUDIO\",\"type\":\"string\"},{\"name\":\"MAIN_SUBJECT\",\"type\":\"string\"},{\"name\":\"LOC_LONG\",\"type\":\"double\"},{\"name\":\"WORK_EXPERIENCE\",\"type\":\"double\"},{\"name\":\"AGE\",\"type\":\"double\"},{\"name\":\"FIRST_NAME\",\"type\":\"string\"},{\"name\":\"EDUCATION\",\"type\":\"string\"},{\"name\":\"FULL_TIME\",\"type\":\"string\"},{\"name\":\"GENRES\",\"type\":\"string\"},{\"name\":\"COMMUTE_DISTANCE\",\"type\":\"double\"},{\"name\":\"NUM_MORTGAGES\",\"type\":\"double\"},{\"name\":\"PET\",\"type\":\"string\"},{\"name\":\"SKU\",\"type\":\"string\"},{\"name\":\"INSUFF_FUNDS_INCIDENTS\",\"type\":\"double\"},{\"name\":\"TITLE\",\"type\":\"string\"},{\"name\":\"GROSS\",\"type\":\"double\"},{\"name\":\"OPENING_DATE\",\"type\":\"timestamp_with_timezone\"},{\"name\":\"PROMOTION_RESPONSE\",\"type\":\"double\"},{\"name\":\"YRS_CUSTOMER\",\"type\":\"double\"},{\"name\":\"MORTGAGE_AMT\",\"type\":\"double\"},{\"name\":\"COUNTRY_CODE\",\"type\":\"string\"},{\"name\":\"AWARDS\",\"type\":\"string\"},{\"name\":\"LATE_MORT_RENT_PMTS\",\"type\":\"double\"},{\"name\":\"SEGMENT_ID\",\"type\":\"double\"},{\"name\":\"LOC_LAT\",\"type\":\"double\"},{\"name\":\"EMAIL\",\"type\":\"string\"},{\"name\":\"RUNTIME\",\"type\":\"double\"},{\"name\":\"RENT_OWN\",\"type\":\"string\"},{\"name\":\"NOMINATIONS\",\"type\":\"string\"},{\"name\":\"NUM_CARS\",\"type\":\"double\"},{\"name\":\"STREET_ADDRESS\",\"type\":\"string\"}],\"edgeProperties\":[{\"name\":\"id\",\"type\":\"integer\"},{\"name\":\"DAY_ID\",\"type\":\"timestamp_with_timezone\"},{\"name\":\"DISCOUNT_TYPE\",\"type\":\"string\"},{\"name\":\"CUST_ID\",\"type\":\"double\"},{\"name\":\"OS\",\"type\":\"string\"},{\"name\":\"MOVIE_ID\",\"type\":\"double\"},{\"name\":\"DEVICE\",\"type\":\"string\"},{\"name\":\"GENRE_ID\",\"type\":\"double\"},{\"name\":\"PAYMENT_METHOD\",\"type\":\"string\"},{\"name\":\"APP\",\"type\":\"string\"}]}},\"interactionMode\":\"zoom\",\"fitToScreen\":false,\"viewTransform\":[[-258.0145060320906,-51.511630170338094,1.1265630782635385,1449]],\"lastColumns\":[\"C1\",\"E1\",\"TITLE\",\"E2\",\"C2\"],\"version\":8},\"table\":{}}]","hideCode":false,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635260037268,"endTime":1635260037814,"interpreter":"pgql-pgx","taskStatus":null,"status":null,"results":null},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":259,"order":5,"width":0,"title":"Graph Analytics:  What are people watching in my \"community\"?","hasTitle":true,"message":"%md\n\nThese were interesting queries to run.   But now we want to identify what movies we can recommend for Ricky Rogers, so that he continues to like the service.  <br> <br>\n\nTo do this, we run a pre-built graph algorithm WhomToFollow for customer <b> Ricky Rogers </b>.  This algorithm is used in social network analysis. This algorithm clusters customers into communities based on the movies they have rented. Then, based on the community the vertex belongs to, the algorithm identifies the movies they should recommend for this customer. Rather than looking at one or two similar customers to identify movie recommendations, this algorithm identifies communities of customers, and uses the movie choices of the entire community <b> Ricky Rogers </b> belongs to, to make recommendations.\n\nFirst, we get a handle for the <b> MOVIE_RECOMMENDATIONS </b> graph in memory.","selectedVisualization":"html","visualizationConfig":null,"hideCode":true,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635264337046,"endTime":1635264337081,"interpreter":"md","taskStatus":"SUCCESS","status":"SUCCESS","results":[{"message":"<p>These were interesting queries to run.   But now we want to identify what movies we can recommend for Ricky Rogers, so that he continues to like the service.  <br> <br></p>\n<p>To do this, we run a pre-built graph algorithm WhomToFollow for customer <b> Ricky Rogers </b>.  This algorithm is used in social network analysis. This algorithm clusters customers into communities based on the movies they have rented. Then, based on the community the vertex belongs to, the algorithm identifies the movies they should recommend for this customer. Rather than looking at one or two similar customers to identify movie recommendations, this algorithm identifies communities of customers, and uses the movie choices of the entire community <b> Ricky Rogers </b> belongs to, to make recommendations.</p>\n<p>First, we get a handle for the <b> MOVIE_RECOMMENDATIONS </b> graph in memory.</p>\n","type":"HTML"}]},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":123,"order":6,"width":0,"title":null,"hasTitle":false,"message":"%java-pgx\n// Get the graph handle\nPgxGraph cpGraph = session.getGraph(\"MOVIE_RECOMMENDATIONS\");\n\ncpGraph;","selectedVisualization":"raw","visualizationConfig":null,"hideCode":false,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635259763482,"endTime":1635259763801,"interpreter":"java-pgx","taskStatus":null,"status":null,"results":null},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":114,"order":7,"width":0,"title":null,"hasTitle":false,"message":"%md\n\nWe select the vertex for the customer <b> Ricky Rogers </b>, and run the WhomToFollow algorithm with this vertex.   This is a Java code snippet that does so.","selectedVisualization":"html","visualizationConfig":null,"hideCode":true,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635264344583,"endTime":1635264344615,"interpreter":"md","taskStatus":"SUCCESS","status":"SUCCESS","results":[{"message":"<p>We select the vertex for the customer <b> Ricky Rogers </b>, and run the WhomToFollow algorithm with this vertex.   This is a Java code snippet that does so.</p>\n","type":"HTML"}]},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":235,"order":8,"width":0,"title":null,"hasTitle":false,"message":"%java-pgx\n\n// Select vertex for Ricky Rogers. One vertex will return from this query\nvar queryR2 = cpGraph.queryPgql(\"select v from match(v) where v.first_name = 'Ricky' and v.last_name = 'Rogers'\");\nqueryR2.first();\n\n// Get the vertex object. Look at a couple of properties\nPgxVertex<Long> cust = queryR2.getVertex(\"v\");\nout.println(\" \" + cust.getProperty(\"FIRST_NAME\"));\nout.println(\" \" + cust.getProperty(\"LAST_NAME\"));\n\n","selectedVisualization":"raw","visualizationConfig":null,"hideCode":false,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635260349320,"endTime":1635260349732,"interpreter":"java-pgx","taskStatus":null,"status":null,"results":null},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":143,"order":9,"width":0,"title":"Run WhomToFollow","hasTitle":true,"message":"%java-pgx\n\n// What movies are being watched in Ricky's community?  Use the whomToFollow graph analytic\nPair<VertexSequence<Long>, VertexSequence<Long>> rmovies = analyst.whomToFollow(cpGraph, cust);","selectedVisualization":"raw","visualizationConfig":null,"hideCode":false,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635260382313,"endTime":1635260387090,"interpreter":"java-pgx","taskStatus":null,"status":null,"results":null},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":114,"order":10,"width":0,"title":"Similar Customers","hasTitle":false,"message":"%md\n\n<b> WhomToFollow </b> returns two lists.  One, a list of customers who belong to the same community of users as Ricky Rogers, which is determined by the similarity of movies they have watched.   Two, a list of suggested movies for Ricky Rogers, based on this community.","selectedVisualization":"html","visualizationConfig":null,"hideCode":true,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635264355137,"endTime":1635264355164,"interpreter":"md","taskStatus":"SUCCESS","status":"SUCCESS","results":[{"message":"<p><b> WhomToFollow </b> returns two lists.  One, a list of customers who belong to the same community of users as Ricky Rogers, which is determined by the similarity of movies they have watched.   Two, a list of suggested movies for Ricky Rogers, based on this community.</p>\n","type":"HTML"}]},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":223,"order":11,"width":0,"title":"Similar Customers","hasTitle":true,"message":"%java-pgx\n// What customers are similar?  And, what movies are they watching?\nvar similarCustomers = rmovies.getFirst();\n\n// Loop thru the similar customers\nfor (var v: similarCustomers){\n  out.println(\"\"+v.getProperty(\"FIRST_NAME\")+ \" \" + v.getProperty(\"LAST_NAME\"));\n}\n","selectedVisualization":"table","visualizationConfig":null,"hideCode":false,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635260398044,"endTime":1635260406025,"interpreter":"java-pgx","taskStatus":null,"status":null,"results":null},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":191,"order":12,"width":0,"title":"Suggested Movies","hasTitle":true,"message":"%java-pgx\n\nvar suggestedMovies = rmovies.getSecond();\n\nfor (var v: suggestedMovies){\n   out.println(\"\" + v.getProperty(\"TITLE\"));\n}","selectedVisualization":"table","visualizationConfig":null,"hideCode":false,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635213525611,"endTime":1635213528110,"interpreter":"java-pgx","taskStatus":null,"status":null,"results":null},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":150,"order":13,"width":0,"title":"Check the results","hasTitle":true,"message":"%md\n\nNow let us examine a couple of specific movies to recommend for <b> Ricky Rogers. </b> We see that <b> Ricky Rogers </b> has not watched the movie <i> Captain Marvel </i>, checking with this PGQL query.","selectedVisualization":"html","visualizationConfig":null,"hideCode":true,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635264363801,"endTime":1635264363836,"interpreter":"md","taskStatus":"SUCCESS","status":"SUCCESS","results":[{"message":"<p>Now let us examine a couple of specific movies to recommend for <b> Ricky Rogers. </b> We see that <b> Ricky Rogers </b> has not watched the movie <i> Captain Marvel </i>, checking with this PGQL query.</p>\n","type":"HTML"}]},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":91,"order":14,"width":0,"title":null,"hasTitle":false,"message":"%pgql-pgx\nselect v,e, m.title from match (v)-[e:RENTED]->(m) on MOVIE_RECOMMENDATIONS\nwhere v.FIRST_NAME = 'Ricky' and v.LAST_NAME = 'Rogers' and m.title='Captain Marvel'","selectedVisualization":"visualization","visualizationConfig":"[{\"visualization\":{\"graphAction\":{\"graphName\":\"MOVIE_RECOMMENDATIONS\",\"lastRun\":1635211200974,\"metadata\":{\"vertexProperties\":[{\"name\":\"id\",\"type\":\"integer\"},{\"name\":\"MORTGAGE_AMT\",\"type\":\"double\"},{\"name\":\"TITLE\",\"type\":\"string\"},{\"name\":\"INCOME_LEVEL\",\"type\":\"string\"},{\"name\":\"FIRST_NAME\",\"type\":\"string\"},{\"name\":\"CAST\",\"type\":\"string\"},{\"name\":\"STATE_PROVINCE\",\"type\":\"string\"},{\"name\":\"CREDIT_BALANCE\",\"type\":\"double\"},{\"name\":\"SKU\",\"type\":\"string\"},{\"name\":\"POSTAL_CODE\",\"type\":\"string\"},{\"name\":\"SEGMENT_ID\",\"type\":\"double\"},{\"name\":\"COUNTRY\",\"type\":\"string\"},{\"name\":\"AWARDS\",\"type\":\"string\"},{\"name\":\"FULL_TIME\",\"type\":\"string\"},{\"name\":\"OPENING_DATE\",\"type\":\"timestamp_with_timezone\"},{\"name\":\"SUMMARY\",\"type\":\"string\"},{\"name\":\"NUM_MORTGAGES\",\"type\":\"double\"},{\"name\":\"YRS_RESIDENCE\",\"type\":\"double\"},{\"name\":\"CONTINENT\",\"type\":\"string\"},{\"name\":\"EMAIL\",\"type\":\"string\"},{\"name\":\"INSUFF_FUNDS_INCIDENTS\",\"type\":\"double\"},{\"name\":\"LOC_LONG\",\"type\":\"double\"},{\"name\":\"CREW\",\"type\":\"string\"},{\"name\":\"INCOME\",\"type\":\"double\"},{\"name\":\"JOB_TYPE\",\"type\":\"string\"},{\"name\":\"PROMOTION_RESPONSE\",\"type\":\"double\"},{\"name\":\"PET\",\"type\":\"string\"},{\"name\":\"RUNTIME\",\"type\":\"double\"},{\"name\":\"LOC_LAT\",\"type\":\"double\"},{\"name\":\"STREET_ADDRESS\",\"type\":\"string\"},{\"name\":\"AGE\",\"type\":\"double\"},{\"name\":\"MAIN_SUBJECT\",\"type\":\"string\"},{\"name\":\"VIEWS\",\"type\":\"double\"},{\"name\":\"LIST_PRICE\",\"type\":\"double\"},{\"name\":\"MOVIE_ID\",\"type\":\"double\"},{\"name\":\"GENRES\",\"type\":\"string\"},{\"name\":\"CUST_ID\",\"type\":\"double\"},{\"name\":\"YEAR\",\"type\":\"double\"},{\"name\":\"GENDER\",\"type\":\"string\"},{\"name\":\"MARITAL_STATUS\",\"type\":\"string\"},{\"name\":\"EDUCATION\",\"type\":\"string\"},{\"name\":\"LATE_MORT_RENT_PMTS\",\"type\":\"double\"},{\"name\":\"GROSS\",\"type\":\"double\"},{\"name\":\"COMMUTE_DISTANCE\",\"type\":\"double\"},{\"name\":\"RENT_OWN\",\"type\":\"string\"},{\"name\":\"CITY\",\"type\":\"string\"},{\"name\":\"NOMINATIONS\",\"type\":\"string\"},{\"name\":\"LAST_NAME\",\"type\":\"string\"},{\"name\":\"HOUSEHOLD_SIZE\",\"type\":\"double\"},{\"name\":\"WORK_EXPERIENCE\",\"type\":\"double\"},{\"name\":\"BUDGET\",\"type\":\"double\"},{\"name\":\"STUDIO\",\"type\":\"string\"},{\"name\":\"YRS_CUSTOMER\",\"type\":\"double\"},{\"name\":\"NUM_CARS\",\"type\":\"double\"},{\"name\":\"COUNTRY_CODE\",\"type\":\"string\"},{\"name\":\"YRS_CURRENT_EMPLOYER\",\"type\":\"double\"}],\"edgeProperties\":[{\"name\":\"id\",\"type\":\"integer\"},{\"name\":\"PAYMENT_METHOD\",\"type\":\"string\"},{\"name\":\"GENRE_ID\",\"type\":\"double\"},{\"name\":\"DAY_ID\",\"type\":\"timestamp_with_timezone\"},{\"name\":\"DISCOUNT_TYPE\",\"type\":\"string\"},{\"name\":\"OS\",\"type\":\"string\"},{\"name\":\"APP\",\"type\":\"string\"},{\"name\":\"MOVIE_ID\",\"type\":\"double\"},{\"name\":\"CUST_ID\",\"type\":\"double\"},{\"name\":\"DEVICE\",\"type\":\"string\"}]}},\"lastColumns\":[\"V\",\"E\",\"TITLE\"],\"version\":8}}]","hideCode":false,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635211196319,"endTime":1635211196731,"interpreter":"pgql-pgx","taskStatus":null,"status":null,"results":null},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":177,"order":15,"width":0,"title":null,"hasTitle":false,"message":"%md\n\nOther members in the community (that <b> Ricky Rogers</b> belongs to), such as <b> Sang Hoffman</b>, have watched the movie <i> Captain Marvel.  </i>  <b>Sang Hoffman </b> has watched it multiple times as seen by the multiple edges. So <i> Captain Marvel </i> is a good recommendation to make for Ricky Rogers. <br> <br>\n\nYou can again use the <b> Settings </b> dialog box to visualize the <b> TITLE </b> of the movies in the graph.","selectedVisualization":"html","visualizationConfig":null,"hideCode":true,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635264370684,"endTime":1635264370709,"interpreter":"md","taskStatus":"SUCCESS","status":"SUCCESS","results":[{"message":"<p>Other members in the community (that <b> Ricky Rogers</b> belongs to), such as <b> Sang Hoffman</b>, have watched the movie <i> Captain Marvel.  </i>  <b>Sang Hoffman </b> has watched it multiple times as seen by the multiple edges. So <i> Captain Marvel </i> is a good recommendation to make for Ricky Rogers. <br> <br></p>\n<p>You can again use the <b> Settings </b> dialog box to visualize the <b> TITLE </b> of the movies in the graph.</p>\n","type":"HTML"}]},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":91,"order":16,"width":0,"title":null,"hasTitle":false,"message":"%pgql-pgx\nselect v,e, m.title from match (v)-[e:RENTED]->(m) on MOVIE_RECOMMENDATIONS\nwhere v.FIRST_NAME = 'Sang' and v.LAST_NAME = 'Hoffman' and m.title='Captain Marvel'","selectedVisualization":"visualization","visualizationConfig":"[{\"visualization\":{\"vertexLabelProperty\":\"TITLE\",\"graphAction\":{\"graphName\":\"MOVIE_RECOMMENDATIONS\",\"lastRun\":1635211215222,\"metadata\":{\"vertexProperties\":[{\"name\":\"id\",\"type\":\"integer\"},{\"name\":\"MORTGAGE_AMT\",\"type\":\"double\"},{\"name\":\"TITLE\",\"type\":\"string\"},{\"name\":\"INCOME_LEVEL\",\"type\":\"string\"},{\"name\":\"FIRST_NAME\",\"type\":\"string\"},{\"name\":\"CAST\",\"type\":\"string\"},{\"name\":\"STATE_PROVINCE\",\"type\":\"string\"},{\"name\":\"CREDIT_BALANCE\",\"type\":\"double\"},{\"name\":\"SKU\",\"type\":\"string\"},{\"name\":\"POSTAL_CODE\",\"type\":\"string\"},{\"name\":\"SEGMENT_ID\",\"type\":\"double\"},{\"name\":\"COUNTRY\",\"type\":\"string\"},{\"name\":\"AWARDS\",\"type\":\"string\"},{\"name\":\"FULL_TIME\",\"type\":\"string\"},{\"name\":\"OPENING_DATE\",\"type\":\"timestamp_with_timezone\"},{\"name\":\"SUMMARY\",\"type\":\"string\"},{\"name\":\"NUM_MORTGAGES\",\"type\":\"double\"},{\"name\":\"YRS_RESIDENCE\",\"type\":\"double\"},{\"name\":\"CONTINENT\",\"type\":\"string\"},{\"name\":\"EMAIL\",\"type\":\"string\"},{\"name\":\"INSUFF_FUNDS_INCIDENTS\",\"type\":\"double\"},{\"name\":\"LOC_LONG\",\"type\":\"double\"},{\"name\":\"CREW\",\"type\":\"string\"},{\"name\":\"INCOME\",\"type\":\"double\"},{\"name\":\"JOB_TYPE\",\"type\":\"string\"},{\"name\":\"PROMOTION_RESPONSE\",\"type\":\"double\"},{\"name\":\"PET\",\"type\":\"string\"},{\"name\":\"RUNTIME\",\"type\":\"double\"},{\"name\":\"LOC_LAT\",\"type\":\"double\"},{\"name\":\"STREET_ADDRESS\",\"type\":\"string\"},{\"name\":\"AGE\",\"type\":\"double\"},{\"name\":\"MAIN_SUBJECT\",\"type\":\"string\"},{\"name\":\"VIEWS\",\"type\":\"double\"},{\"name\":\"LIST_PRICE\",\"type\":\"double\"},{\"name\":\"MOVIE_ID\",\"type\":\"double\"},{\"name\":\"GENRES\",\"type\":\"string\"},{\"name\":\"CUST_ID\",\"type\":\"double\"},{\"name\":\"YEAR\",\"type\":\"double\"},{\"name\":\"GENDER\",\"type\":\"string\"},{\"name\":\"MARITAL_STATUS\",\"type\":\"string\"},{\"name\":\"EDUCATION\",\"type\":\"string\"},{\"name\":\"LATE_MORT_RENT_PMTS\",\"type\":\"double\"},{\"name\":\"GROSS\",\"type\":\"double\"},{\"name\":\"COMMUTE_DISTANCE\",\"type\":\"double\"},{\"name\":\"RENT_OWN\",\"type\":\"string\"},{\"name\":\"CITY\",\"type\":\"string\"},{\"name\":\"NOMINATIONS\",\"type\":\"string\"},{\"name\":\"LAST_NAME\",\"type\":\"string\"},{\"name\":\"HOUSEHOLD_SIZE\",\"type\":\"double\"},{\"name\":\"WORK_EXPERIENCE\",\"type\":\"double\"},{\"name\":\"BUDGET\",\"type\":\"double\"},{\"name\":\"STUDIO\",\"type\":\"string\"},{\"name\":\"YRS_CUSTOMER\",\"type\":\"double\"},{\"name\":\"NUM_CARS\",\"type\":\"double\"},{\"name\":\"COUNTRY_CODE\",\"type\":\"string\"},{\"name\":\"YRS_CURRENT_EMPLOYER\",\"type\":\"double\"}],\"edgeProperties\":[{\"name\":\"id\",\"type\":\"integer\"},{\"name\":\"PAYMENT_METHOD\",\"type\":\"string\"},{\"name\":\"GENRE_ID\",\"type\":\"double\"},{\"name\":\"DAY_ID\",\"type\":\"timestamp_with_timezone\"},{\"name\":\"DISCOUNT_TYPE\",\"type\":\"string\"},{\"name\":\"OS\",\"type\":\"string\"},{\"name\":\"APP\",\"type\":\"string\"},{\"name\":\"MOVIE_ID\",\"type\":\"double\"},{\"name\":\"CUST_ID\",\"type\":\"double\"},{\"name\":\"DEVICE\",\"type\":\"string\"}]}},\"viewTransform\":[[-359.67285982977717,-118.97888143444132,1.9307248425019394,810]],\"lastColumns\":[\"V\",\"E\",\"TITLE\"],\"version\":8}}]","hideCode":false,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635211210443,"endTime":1635211210995,"interpreter":"pgql-pgx","taskStatus":null,"status":null,"results":null},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":114,"order":17,"width":0,"title":null,"hasTitle":false,"message":"%md\n\nNext we see that <b> Ricky Rogers </b> has not watched the movie <i> Toy Story 4 </i>, as we see in this PGQL query.","selectedVisualization":"html","visualizationConfig":null,"hideCode":true,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635264376738,"endTime":1635264376765,"interpreter":"md","taskStatus":"SUCCESS","status":"SUCCESS","results":[{"message":"<p>Next we see that <b> Ricky Rogers </b> has not watched the movie <i> Toy Story 4 </i>, as we see in this PGQL query.</p>\n","type":"HTML"}]},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":91,"order":18,"width":0,"title":null,"hasTitle":false,"message":"%pgql-pgx\nselect v,e, m.title from match (v)-[e:RENTED]->(m) on MOVIE_RECOMMENDATIONS\nwhere v.FIRST_NAME = 'Ricky' and v.LAST_NAME = 'Rogers' and m.title='Toy Story 4'","selectedVisualization":"visualization","visualizationConfig":"[{\"visualization\":{\"graphAction\":{\"graphName\":\"MOVIE_RECOMMENDATIONS\",\"lastRun\":1633723154410},\"lastColumns\":[\"V\",\"E\",\"TITLE\"],\"version\":8}}]","hideCode":false,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1633723153787,"endTime":1633723154410,"interpreter":"pgql-pgx","taskStatus":null,"status":null,"results":null},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":40,"order":19,"width":0,"title":null,"hasTitle":false,"message":"%md\n\nWe see that <b> Sang Hoffman</b> has watched the movie <i> Toy Story 4 </i>  multiple times.  So this is another good movie to recommend for <b> Ricky Rogers.</b>","selectedVisualization":"html","visualizationConfig":null,"hideCode":true,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1635264273194,"endTime":1635264273219,"interpreter":"md","taskStatus":null,"status":null,"results":null},"relations":[],"dynamicFormParams":"{}"},{"row":0,"col":0,"sizeX":0,"sizeY":91,"order":20,"width":0,"title":null,"hasTitle":false,"message":"%pgql-pgx\nselect v,e, m.title from match (v)-[e:RENTED]->(m) on MOVIE_RECOMMENDATIONS\nwhere v.FIRST_NAME = 'Sang' and v.LAST_NAME = 'Hoffman' and m.title='Toy Story 4'","selectedVisualization":"visualization","visualizationConfig":"[{\"visualization\":{\"vertexLabelProperty\":\"TITLE\",\"graphAction\":{\"graphName\":\"MOVIE_RECOMMENDATIONS\",\"lastRun\":1633723168088},\"viewTransform\":[[-702.9820867486458,-229.09942161522093,2.800920224208707,810]],\"lastColumns\":[\"V\",\"E\",\"TITLE\"],\"version\":8}}]","hideCode":false,"hideResult":false,"hideGutter":true,"hideVizConfig":false,"hideInIFrame":false,"forms":"[]","result":{"startTime":1633723167465,"endTime":1633723168088,"interpreter":"pgql-pgx","taskStatus":null,"status":null,"results":null},"relations":[],"dynamicFormParams":"{}"}]}]